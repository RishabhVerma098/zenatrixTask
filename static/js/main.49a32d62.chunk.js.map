{"version":3,"sources":["images/search.svg","data.js","store/actions/index.js","components/keydata.js","components/searchBar.js","App.js","store/reducers/fruits.js","store/reducers/filter.js","store/reducers/added.js","store/reducers/index.js","index.js"],"names":["fruits","filteredSuggetion","normal","htmlVal","type","payload","append","x","KeyData","className","SearchBar","dispatch","useDispatch","useState","activeOption","setAcativeOptions","text","setText","useEffect","useSelector","state","fruitsReducer","filteredOptions","filterReducer","added","addedReducer","onClick","e","target","innerText","highlight","s","input","str_data","forEach","i","term","results","temp","replace","RegExp","match","split","pop","see","setSee","setTimeout","src","image","alt","value","onChange","userInput","suggestions","length","regex","sort","filter","v","test","onKeyDown","keyCode","word","lower_state","map","toLowerCase","lower_word","indexOf","val","index","style","backgroundColor","dangerouslySetInnerHTML","__html","App","action","initial","rootReducers","combineReducers","store","createStore","rootReducer","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.49a32d62.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/search.1260bf95.svg\";","export const fruits = [\r\n  \"Apples\",\r\n  \"pears\",\r\n  \"Citrus\",\r\n  \"oranges\",\r\n  \"grapefruits\",\r\n  \"mandarins\",\r\n  \"limes\",\r\n  \"Stone fruit\",\r\n  \"nectarines\",\r\n  \"apricots\",\r\n  \"peaches\",\r\n  \"plums\",\r\n  \"Tropical\",\r\n  \"exotic\",\r\n  \"bananas\",\r\n  \"mangoes\",\r\n  \"Berries\",\r\n  \"strawberries\",\r\n  \"raspberries\",\r\n  \"blueberries\",\r\n  \"kiwifruit\",\r\n  \"passionfruit\",\r\n  \"Melons\",\r\n  \"watermelons\",\r\n  \"rockmelons\",\r\n  \"honeydew\",\r\n  \"melons\",\r\n  \"Tomatoes\",\r\n  \"avocados\",\r\n];\r\n","import { fruits } from \"../../data\";\r\n\r\nexport const getFruitsList = () => {\r\n  return {\r\n    type: \"FRUITS\",\r\n    payload: fruits,\r\n  };\r\n};\r\n\r\nexport const addFruit = (fruit) => {\r\n  return {\r\n    type: \"ADD_FRUIT\",\r\n    payload: fruit,\r\n  };\r\n};\r\n\r\nexport const filteredSuggetion = (normal, htmlVal) => {\r\n  return {\r\n    type: \"FILTER\",\r\n    payload: {\r\n      normal: normal,\r\n      htmlVal: htmlVal,\r\n    },\r\n  };\r\n};\r\n\r\nexport const element_added = (word, state) => {\r\n  return function (dispatch) {\r\n    let lower_state = state.map((v) => v.toLowerCase());\r\n    let lower_word = word.toLowerCase();\r\n    if (word !== null && lower_state.indexOf(lower_word) === -1) {\r\n      dispatch(addFruit(word));\r\n      dispatch(append(true));\r\n    } else {\r\n      dispatch(append(false));\r\n    }\r\n  };\r\n};\r\n\r\nexport const append = (x) => {\r\n  return {\r\n    type: \"ADDED\",\r\n    payload: x,\r\n  };\r\n};\r\n","import React from \"react\";\r\n\r\nfunction KeyData() {\r\n  return (\r\n    <div className=\"des\">\r\n      <p>\r\n        Use <span className=\"key\">ENTER</span> to select element\r\n      </p>\r\n      <p>\r\n        Use <span className=\"key\">UP</span> and{\" \"}\r\n        <span className=\"key\">DOWN</span> key to navigate between suggestions\r\n      </p>\r\n      <p>\r\n        Use <span className=\"key\">LEFT SHIFT</span> to add items\r\n      </p>\r\n      <p>\r\n        Use <span className=\"key\">ESC</span> to Clear\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default KeyData;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport image from \"../images/search.svg\";\r\nimport {\r\n  filteredSuggetion,\r\n  getFruitsList,\r\n  element_added,\r\n} from \"../store/actions\";\r\nimport KeyData from \"./keydata\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport \"./searchBar.css\";\r\n\r\nfunction SearchBar() {\r\n  const dispatch = useDispatch();\r\n\r\n  //for list element coloring using keys\r\n  const [activeOption, setAcativeOptions] = useState(0);\r\n  //input\r\n  const [text, setText] = useState(\"\");\r\n\r\n  //get all the fruits\r\n  useEffect(() => {\r\n    dispatch(getFruitsList());\r\n  }, []);\r\n\r\n  const fruits = useSelector((state) => state.fruitsReducer);\r\n  const filteredOptions = useSelector((state) => state.filterReducer);\r\n  const added = useSelector((state) => state.addedReducer);\r\n\r\n  const onChangeOptions = (e) => {\r\n    const userInput = e.target.value;\r\n    let suggestions = [];\r\n\r\n    if (userInput.length > 0) {\r\n      const regex = new RegExp(`^${userInput}`, `i`);\r\n      suggestions = fruits.sort().filter((v) => regex.test(v));\r\n    }\r\n    setText(userInput);\r\n    let x = highlight(suggestions, userInput); //utily function\r\n    dispatch(filteredSuggetion(suggestions, x));\r\n    setAcativeOptions(0);\r\n  };\r\n\r\n  const onClick = (e) => {\r\n    dispatch(filteredSuggetion([], []));\r\n    setText(e.target.innerText);\r\n    setAcativeOptions(0);\r\n  };\r\n\r\n  const renderOptions = () => {\r\n    if (filteredOptions.normal.length > 0) {\r\n      return (\r\n        <ul className=\"suggestions\">\r\n          {filteredOptions.htmlVal.map((val, index) => {\r\n            if (activeOption === index) {\r\n              return (\r\n                <li\r\n                  onClick={() => onClick(filteredOptions.normal[index])}\r\n                  key={index}\r\n                  style={{ backgroundColor: \"#ebeaf2\" }}\r\n                  dangerouslySetInnerHTML={{ __html: val }}\r\n                ></li>\r\n              );\r\n            }\r\n\r\n            return (\r\n              <li\r\n                onClick={() => onClick(filteredOptions.normal[index])}\r\n                key={index}\r\n                dangerouslySetInnerHTML={{ __html: val }}\r\n              ></li>\r\n            );\r\n          })}\r\n        </ul>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const onKey = (e) => {\r\n    //Enter\r\n    if (e.keyCode === 13) {\r\n      setAcativeOptions(0);\r\n      dispatch(filteredSuggetion([], []));\r\n      setText(filteredOptions.normal[activeOption]);\r\n    }\r\n    //Up\r\n    else if (e.keyCode === 38) {\r\n      if (activeOption === 0) {\r\n        return;\r\n      }\r\n      setAcativeOptions(activeOption - 1);\r\n    }\r\n    //Down\r\n    else if (e.keyCode === 40) {\r\n      if (activeOption === filteredOptions.normal.length - 1) {\r\n        return;\r\n      }\r\n      setAcativeOptions(activeOption + 1);\r\n    }\r\n    //ESC\r\n    else if (e.keyCode === 27) {\r\n      dispatch(filteredSuggetion([], []));\r\n      setText(\"\");\r\n      setAcativeOptions(0);\r\n    }\r\n    //LEFT SHIFT\r\n    else if (e.keyCode === 16) {\r\n      setText(\"\");\r\n      dispatch(element_added(text, fruits));\r\n    }\r\n  };\r\n\r\n  const highlight = (s, input) => {\r\n    let data = s;\r\n    let str_data = \"\";\r\n\r\n    data.forEach((i) => {\r\n      str_data = str_data + i + \",\";\r\n    });\r\n\r\n    const term = input;\r\n    let results = str_data;\r\n\r\n    results = results.replace(\r\n      new RegExp(term, \"gi\"),\r\n      (match) =>\r\n        `<span style=\"border-bottom:4px solid #dd7c7c; padding-bottom:2px;\">${match}</span>`\r\n    );\r\n\r\n    let temp = results.split(\",\");\r\n    temp.pop();\r\n    return temp;\r\n  };\r\n\r\n  const [see, setSee] = useState(true);\r\n\r\n  useEffect(() => {\r\n    setSee(true);\r\n    setTimeout(() => {\r\n      setSee(false);\r\n    }, 1500);\r\n  }, [added]);\r\n\r\n  return (\r\n    <div className=\"search-bar\">\r\n      <div className=\"search\">\r\n        <img src={image} alt=\"\"></img>\r\n        <input\r\n          type=\"text\"\r\n          value={text}\r\n          onChange={onChangeOptions}\r\n          onKeyDown={onKey}\r\n        ></input>\r\n      </div>\r\n      <div className=\"message\">\r\n        {added === null ? null : added ? (\r\n          see ? (\r\n            <h4>Element added</h4>\r\n          ) : null\r\n        ) : see ? (\r\n          <h4>Element already present</h4>\r\n        ) : null}\r\n      </div>\r\n      {filteredOptions.normal.length === 0 ? <KeyData /> : null}\r\n      {renderOptions()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SearchBar;\r\n","import React from \"react\";\nimport SearchBar from \"./components/searchBar\";\nimport \"./App.css\";\nfunction App() {\n  return (\n    <div className=\"App\">\n      <SearchBar />\n    </div>\n  );\n}\n\nexport default App;\n","const fruitsReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"FRUITS\":\r\n      return [...action.payload];\r\n    case \"ADD_FRUIT\":\r\n      // let lower_state = state.map((v) => v.toLowerCase());\r\n      // let lower_word = action.payload.toLowerCase();\r\n\r\n      // if (action.payload !== null && lower_state.indexOf(lower_word) === -1) {\r\n      //   return [...state, action.payload];\r\n      // } else {\r\n      //   return state;\r\n      // }\r\n      return [...state, action.payload];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default fruitsReducer;\r\n","const initial = {\r\n  normal: [],\r\n  htmlVal: [],\r\n};\r\nconst filterReducer = (state = initial, action) => {\r\n  switch (action.type) {\r\n    case \"FILTER\":\r\n      return { ...action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default filterReducer;\r\n","const addedReducer = (state = null, action) => {\r\n  switch (action.type) {\r\n    case \"ADDED\":\r\n      if (action.payload) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default addedReducer;\r\n","import { combineReducers } from \"redux\";\r\nimport fruitsReducer from \"./fruits\";\r\nimport filterReducer from \"./filter\";\r\nimport addedReducer from \"./added\";\r\nconst rootReducers = combineReducers({\r\n  fruitsReducer: fruitsReducer,\r\n  filterReducer: filterReducer,\r\n  addedReducer: addedReducer,\r\n});\r\n\r\nexport default rootReducers;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore, applyMiddleware } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport thunk from \"redux-thunk\";\nimport App from \"./App\";\nimport rootReducer from \"./store/reducers/index\";\n\nconst store = createStore(rootReducer, applyMiddleware(thunk));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}